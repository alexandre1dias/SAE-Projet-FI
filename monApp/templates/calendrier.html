{%extends "base.html"%}

{% block main %}
<section class="calendrier-section">
    <div class="container-fluid py-5">
        <h1 class="text-center mb-5">Calendrier des Évènements</h1>
        
        <div class="row">  <!--colonne pour les filtres à gauche -->
            <div class="col-lg-3 col-md-4 mb-4">
                <div class="filtres-container">
                    <h5 class="filtres-titre">Filtres</h5>
                    
                    <div class="filtre-categorie">
                        <h6>Type d'événement</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="competition" checked>
                            <label class="form-check-label" for="competition">Compétition</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="reunion" checked>
                            <label class="form-check-label" for="reunion">Réunion</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="eventclub" checked>
                            <label class="form-check-label" for="eventclub">Évènement du club</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="entrainement" checked>
                            <label class="form-check-label" for="entrainement">Entraînement</label>
                        </div>
                    </div>

                   
                    <div class="filtre-categorie">
                        <h6>Type de compétition</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="regional" checked>
                            <label class="form-check-label" for="regional">Régional</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="national" checked>
                            <label class="form-check-label" for="national">National</label>
                        </div>
                    </div>

                    
                    <div class="filtre-categorie">
                        <h6>Type d'arme</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="epee" checked>
                            <label class="form-check-label" for="epee">Épée</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="fleuret" checked>
                            <label class="form-check-label" for="fleuret">Fleuret</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="sabre" checked>
                            <label class="form-check-label" for="sabre">Sabre</label>
                        </div>
                    </div>

                    
                    <div class="filtre-categorie">
                        <h6>Genre</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="homme" checked>
                            <label class="form-check-label" for="homme">Homme</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="femme" checked>
                            <label class="form-check-label" for="femme">Femme</label>
                        </div>
                    </div>

                    
                    <div class="filtre-categorie">
                        <h6>Niveau</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M9" checked>
                            <label class="form-check-label" for="M9">M9</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M11" checked>
                            <label class="form-check-label" for="M11">M11</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M13" checked>
                            <label class="form-check-label" for="M13">M13</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M15" checked>
                            <label class="form-check-label" for="M15">M15</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M17" checked>
                            <label class="form-check-label" for="M17">M17</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="M20" checked>
                            <label class="form-check-label" for="M20">M20</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="senior" checked>
                            <label class="form-check-label" for="senior">Sénior</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="veteran" checked>
                            <label class="form-check-label" for="veteran">Vétéran</label>
                        </div>
                    </div>

    
                    <div class="mt-4">
                        <a href="{{ url_for('add_event') }}" class="btn btn-primary w-100">
                            Ajouter un événement
                        </a>
                    </div>
                </div>
            </div>

            
            <div class="col-lg-9 col-md-8"> <!-- pour la colonne du calendrier à droite -->
                <div class="calendrier-wrapper">
                    <div id='calendar'></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth', // Vue par défaut
            locale: 'fr', // Mettre le calendrier en français
            height: 700,
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
            },
            buttonText: { // Traduction des boutons
                today: "Aujourd'hui",
                month: 'Mois',
                week: 'Semaine',
                day: 'Jour',
                list: 'Liste'
            },
            /*events: '/api/events', // Charger les événements depuis cette URL
            eventClick: function(info) {
                let event = info.event;
                let startDate = event.start ? event.start.toLocaleString('fr-FR', { dateStyle: 'full', timeStyle: 'short' }) : 'Non spécifié';
                let endDate = event.end ? event.end.toLocaleString('fr-FR', { dateStyle: 'full', timeStyle: 'short' }) : 'Non spécifié';
                let description = event.extendedProps.description || 'Aucune description';
                let category = event.extendedProps.category || 'Non classé';
                let levels = event.extendedProps.level || 'Non spécifié';

                let alertMessage = `Événement: ${event.title}
                                    Début: ${startDate}
                                    Fin: ${endDate}
                                    Description: ${description}
                                    Catégorie: ${category};
                                    Niveaux: ${levels}`;
                alert(alertMessage);
            }*/
        });
        calendar.render();
    });
</script>
{% endblock %}